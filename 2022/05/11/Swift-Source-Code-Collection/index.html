<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Swift Source Code: Collection | Anyuan&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="SummaryCollection extends Sequence. It guarantees that the sequence is multi-pass, and it allows you to look up elements by their indices. It also adds slicing capabilities via its SubSequence type, w">
<meta property="og:type" content="article">
<meta property="og:title" content="Swift Source Code: Collection">
<meta property="og:url" content="http://yoursite.com/2022/05/11/Swift-Source-Code-Collection/index.html">
<meta property="og:site_name" content="Anyuan's blog">
<meta property="og:description" content="SummaryCollection extends Sequence. It guarantees that the sequence is multi-pass, and it allows you to look up elements by their indices. It also adds slicing capabilities via its SubSequence type, w">
<meta property="og:updated_time" content="2022-05-16T12:04:00.031Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Swift Source Code: Collection">
<meta name="twitter:description" content="SummaryCollection extends Sequence. It guarantees that the sequence is multi-pass, and it allows you to look up elements by their indices. It also adds slicing capabilities via its SubSequence type, w">
  
    <link rel="alternative" href="/atom.xml" title="Anyuan&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Anyuan&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">home</a>
        
          <a class="main-nav-link" href="/archives">archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Swift-Source-Code-Collection" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/11/Swift-Source-Code-Collection/" class="article-date">
  <time datetime="2022-05-11T11:27:18.000Z" itemprop="datePublished">2022-05-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Swift Source Code: Collection
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Summary">Summary</h1><p>Collection extends Sequence. It guarantees that the sequence is multi-pass, and it allows you to look up elements by their indices. It also adds slicing capabilities via its SubSequence type, which is a collection itself.</p>
<h1 id="Types">Types</h1><h2 id="IndexingIterator">IndexingIterator</h2><ul>
<li><code>IndexingIterator</code> 是collection类型默认的iterator实现</li>
<li>自定义Collection所需要的最小实现只需要startIndex, endIndex, subscript方法</li>
<li><code>IndexingIterator</code>实现了<code>IteratorProtocol</code>, <code>Sequence</code>, <code>Sendable</code>等protocol</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// A type that iterates over a collection using its indices.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// The `IndexingIterator` type is the default iterator for any collection that</span></span><br><span class="line"><span class="comment">/// doesn't declare its own. It acts as an iterator by using a collection's</span></span><br><span class="line"><span class="comment">/// indices to step over each value in the collection. Most collections in the</span></span><br><span class="line"><span class="comment">/// standard library use `IndexingIterator` as their iterator.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// By default, any custom collection type you create will inherit a</span></span><br><span class="line"><span class="comment">/// `makeIterator()` method that returns an `IndexingIterator` instance,</span></span><br><span class="line"><span class="comment">/// making it unnecessary to declare your own. When creating a custom</span></span><br><span class="line"><span class="comment">/// collection type, add the minimal requirements of the `Collection`</span></span><br><span class="line"><span class="comment">/// protocol: starting and ending indices and a subscript for accessing</span></span><br><span class="line"><span class="comment">/// elements. With those elements defined, the inherited `makeIterator()`</span></span><br><span class="line"><span class="comment">/// method satisfies the requirements of the `Sequence` protocol.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Here's an example of a type that declares the minimal requirements for a</span></span><br><span class="line"><span class="comment">/// collection. The `CollectionOfTwo` structure is a fixed-size collection</span></span><br><span class="line"><span class="comment">/// that always holds two elements of a specific type.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///     struct CollectionOfTwo&lt;Element&gt;: Collection &#123;</span></span><br><span class="line"><span class="comment">///         let elements: (Element, Element)</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///         init(_ first: Element, _ second: Element) &#123;</span></span><br><span class="line"><span class="comment">///             self.elements = (first, second)</span></span><br><span class="line"><span class="comment">///         &#125;</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///         var startIndex: Int &#123; return 0 &#125;</span></span><br><span class="line"><span class="comment">///         var endIndex: Int   &#123; return 2 &#125;</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///         subscript(index: Int) -&gt; Element &#123;</span></span><br><span class="line"><span class="comment">///             switch index &#123;</span></span><br><span class="line"><span class="comment">///             case 0: return elements.0</span></span><br><span class="line"><span class="comment">///             case 1: return elements.1</span></span><br><span class="line"><span class="comment">///             default: fatalError("Index out of bounds.")</span></span><br><span class="line"><span class="comment">///             &#125;</span></span><br><span class="line"><span class="comment">///         &#125;</span></span><br><span class="line"><span class="comment">///         </span></span><br><span class="line"><span class="comment">///         func index(after i: Int) -&gt; Int &#123;</span></span><br><span class="line"><span class="comment">///             precondition(i &lt; endIndex, "Can't advance beyond endIndex")</span></span><br><span class="line"><span class="comment">///             return i + 1</span></span><br><span class="line"><span class="comment">///         &#125;</span></span><br><span class="line"><span class="comment">///     &#125;</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Because `CollectionOfTwo` doesn't define its own `makeIterator()`</span></span><br><span class="line"><span class="comment">/// method or `Iterator` associated type, it uses the default iterator type,</span></span><br><span class="line"><span class="comment">/// `IndexingIterator`. This example shows how a `CollectionOfTwo` instance</span></span><br><span class="line"><span class="comment">/// can be created holding the values of a point, and then iterated over</span></span><br><span class="line"><span class="comment">/// using a `for`-`in` loop.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///     let point = CollectionOfTwo(15.0, 20.0)</span></span><br><span class="line"><span class="comment">///     for element in point &#123;</span></span><br><span class="line"><span class="comment">///         print(element)</span></span><br><span class="line"><span class="comment">///     &#125;</span></span><br><span class="line"><span class="comment">///     // Prints "15.0"</span></span><br><span class="line"><span class="comment">///     // Prints "20.0"</span></span><br><span class="line">@frozen</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">IndexingIterator</span>&lt;<span class="title">Elements</span>: <span class="title">Collection</span>&gt; </span>&#123;</span><br><span class="line">  @usableFromInline</span><br><span class="line">  <span class="keyword">internal</span> <span class="keyword">let</span> _elements: <span class="type">Elements</span></span><br><span class="line">  @usableFromInline</span><br><span class="line">  <span class="keyword">internal</span> <span class="keyword">var</span> _position: <span class="type">Elements</span>.<span class="type">Index</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Creates an iterator over the given collection.</span></span><br><span class="line">  @inlinable</span><br><span class="line">  @inline(__always)</span><br><span class="line">  <span class="keyword">public</span> <span class="comment">/// @testable</span></span><br><span class="line">  <span class="keyword">init</span>(_elements: <span class="type">Elements</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>._elements = _elements</span><br><span class="line">    <span class="keyword">self</span>._position = _elements.startIndex</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Creates an iterator over the given collection.</span></span><br><span class="line">  @inlinable</span><br><span class="line">  @inline(__always)</span><br><span class="line">  <span class="keyword">public</span> <span class="comment">/// @testable</span></span><br><span class="line">  <span class="keyword">init</span>(_elements: <span class="type">Elements</span>, _position: <span class="type">Elements</span>.<span class="type">Index</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>._elements = _elements</span><br><span class="line">    <span class="keyword">self</span>._position = _position</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">IndexingIterator</span>: <span class="title">IteratorProtocol</span>, <span class="title">Sequence</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">typealias</span> <span class="type">Element</span> = <span class="type">Elements</span>.<span class="type">Element</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">typealias</span> <span class="type">Iterator</span> = <span class="type">IndexingIterator</span>&lt;<span class="type">Elements</span>&gt;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">typealias</span> <span class="type">SubSequence</span> = <span class="type">AnySequence</span>&lt;<span class="type">Element</span>&gt;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Advances to the next element and returns it, or `nil` if no next element</span></span><br><span class="line">  <span class="comment">/// exists.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// Repeatedly calling this method returns all the elements of the underlying</span></span><br><span class="line">  <span class="comment">/// sequence in order. As soon as the sequence has run out of elements, all</span></span><br><span class="line">  <span class="comment">/// subsequent calls return `nil`.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// This example shows how an iterator can be used explicitly to emulate a</span></span><br><span class="line">  <span class="comment">/// `for`-`in` loop. First, retrieve a sequence's iterator, and then call</span></span><br><span class="line">  <span class="comment">/// the iterator's `next()` method until it returns `nil`.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     let numbers = [2, 3, 5, 7]</span></span><br><span class="line">  <span class="comment">///     var numbersIterator = numbers.makeIterator()</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     while let num = numbersIterator.next() &#123;</span></span><br><span class="line">  <span class="comment">///         print(num)</span></span><br><span class="line">  <span class="comment">///     &#125;</span></span><br><span class="line">  <span class="comment">///     // Prints "2"</span></span><br><span class="line">  <span class="comment">///     // Prints "3"</span></span><br><span class="line">  <span class="comment">///     // Prints "5"</span></span><br><span class="line">  <span class="comment">///     // Prints "7"</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Returns: The next element in the underlying sequence if a next element</span></span><br><span class="line">  <span class="comment">///   exists; otherwise, `nil`.</span></span><br><span class="line">  @inlinable</span><br><span class="line">  @inline(__always)</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">mutating</span> <span class="func"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span> -&gt; <span class="type">Elements</span>.<span class="type">Element</span>? &#123;</span><br><span class="line">    <span class="keyword">if</span> _position == _elements.endIndex &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">    <span class="keyword">let</span> element = _elements[_position]</span><br><span class="line">    _elements.formIndex(after: &amp;_position)</span><br><span class="line">    <span class="keyword">return</span> element</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">IndexingIterator</span>: <span class="title">Sendable</span></span><br><span class="line">  <span class="title">where</span> <span class="title">Elements</span>: <span class="title">Sendable</span>, <span class="title">Elements</span>.<span class="title">Index</span>: <span class="title">Sendable</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure>
<h2 id="Collection">Collection</h2><p>A sequence whose elements can be traversed multiple times, nondestructively, and accessed by an indexed subscript.</p>
<ul>
<li>Accessing Individual Elements</li>
<li>Accessing Slices of a Collection</li>
<li>Traversing a Collection</li>
<li>Conforming to the Collection Protocol<ul>
<li>The <code>startIndex</code> and <code>endIndex</code> properties</li>
<li>A subscript</li>
<li><code>index(after:)</code></li>
</ul>
</li>
<li>Expected Performance<ul>
<li><code>startIndex</code> and <code>endIndex</code> and subscript access O(1)</li>
<li>forward or bidirectional collection accessing its <code>count</code> property is an O(n)</li>
</ul>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Collection</span>: <span class="title">Sequence</span> </span>&#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">FIXME:</span> ideally this would be in MigrationSupport.swift, but it needs</span></span><br><span class="line">  <span class="comment">// to be on the protocol instead of as an extension</span></span><br><span class="line">  <span class="preprocessor">@available</span>(*, deprecated<span class="comment">/*, obsoleted: 5.0*/</span>, message: <span class="string">"all index distances are now of type Int"</span>)</span><br><span class="line">  <span class="keyword">typealias</span> <span class="type">IndexDistance</span> = <span class="type">Int</span>  </span><br><span class="line"></span><br><span class="line">  <span class="comment">// <span class="doctag">FIXME:</span> Associated type inference requires this.</span></span><br><span class="line">  <span class="keyword">override</span> associatedtype <span class="type">Element</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// <span class="doctag">FIXME:</span> &lt;rdar://problem/34142121&gt;</span></span><br><span class="line">  <span class="comment">// This typealias should be removed as it predates the source compatibility</span></span><br><span class="line">  <span class="comment">// guarantees of Swift 3, but it cannot due to a bug.</span></span><br><span class="line">  <span class="preprocessor">@available</span>(swift, deprecated: <span class="number">3.2</span>, obsoleted: <span class="number">5.0</span>, renamed: <span class="string">"Element"</span>)</span><br><span class="line">  <span class="keyword">typealias</span> _Element = <span class="type">Element</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// A type that represents a position in the collection.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// Valid indices consist of the position of every element and a</span></span><br><span class="line">  <span class="comment">/// "past the end" position that's not valid for use as a subscript</span></span><br><span class="line">  <span class="comment">/// argument.</span></span><br><span class="line">  associatedtype <span class="type">Index</span>: <span class="type">Comparable</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// The position of the first element in a nonempty collection.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// If the collection is empty, `startIndex` is equal to `endIndex`.</span></span><br><span class="line">  <span class="keyword">var</span> startIndex: <span class="type">Index</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">/// The collection's "past the end" position---that is, the position one</span></span><br><span class="line">  <span class="comment">/// greater than the last valid subscript argument.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// When you need a range that includes the last element of a collection, use</span></span><br><span class="line">  <span class="comment">/// the half-open range operator (`..&lt;`) with `endIndex`. The `..&lt;` operator</span></span><br><span class="line">  <span class="comment">/// creates a range that doesn't include the upper bound, so it's always</span></span><br><span class="line">  <span class="comment">/// safe to use with `endIndex`. For example:</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     let numbers = [10, 20, 30, 40, 50]</span></span><br><span class="line">  <span class="comment">///     if let index = numbers.firstIndex(of: 30) &#123;</span></span><br><span class="line">  <span class="comment">///         print(numbers[index ..&lt; numbers.endIndex])</span></span><br><span class="line">  <span class="comment">///     &#125;</span></span><br><span class="line">  <span class="comment">///     // Prints "[30, 40, 50]"</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// If the collection is empty, `endIndex` is equal to `startIndex`.</span></span><br><span class="line">  <span class="keyword">var</span> endIndex: <span class="type">Index</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// A type that provides the collection's iteration interface and</span></span><br><span class="line">  <span class="comment">/// encapsulates its iteration state.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// By default, a collection conforms to the `Sequence` protocol by</span></span><br><span class="line">  <span class="comment">/// supplying `IndexingIterator` as its associated `Iterator`</span></span><br><span class="line">  <span class="comment">/// type.</span></span><br><span class="line">  associatedtype <span class="type">Iterator</span> = <span class="type">IndexingIterator</span>&lt;<span class="type">Self</span>&gt;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// <span class="doctag">FIXME:</span> Only needed for associated type inference. Otherwise,</span></span><br><span class="line">  <span class="comment">// we get an `IndexingIterator` rather than properly deducing the</span></span><br><span class="line">  <span class="comment">// Iterator type from makeIterator(). &lt;rdar://problem/21539115&gt;</span></span><br><span class="line">  <span class="comment">/// Returns an iterator over the elements of the collection.</span></span><br><span class="line">  <span class="keyword">override</span> __consuming <span class="func"><span class="keyword">func</span> <span class="title">makeIterator</span><span class="params">()</span></span> -&gt; <span class="type">Iterator</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// A collection representing a contiguous subrange of this collection's</span></span><br><span class="line">  <span class="comment">/// elements. The subsequence shares indices with the original collection.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The default subsequence type for collections that don't define their own</span></span><br><span class="line">  <span class="comment">/// is `Slice`.</span></span><br><span class="line">  associatedtype <span class="type">SubSequence</span>: <span class="type">Collection</span> = <span class="type">Slice</span>&lt;<span class="type">Self</span>&gt;</span><br><span class="line">  <span class="keyword">where</span> <span class="type">SubSequence</span>.<span class="type">Index</span> == <span class="type">Index</span>,</span><br><span class="line">        <span class="type">Element</span> == <span class="type">SubSequence</span>.<span class="type">Element</span>,</span><br><span class="line">        <span class="type">SubSequence</span>.<span class="type">SubSequence</span> == <span class="type">SubSequence</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Accesses the element at the specified position.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The following example accesses an element of an array through its</span></span><br><span class="line">  <span class="comment">/// subscript to print its value:</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     var streets = ["Adams", "Bryant", "Channing", "Douglas", "Evarts"]</span></span><br><span class="line">  <span class="comment">///     print(streets[1])</span></span><br><span class="line">  <span class="comment">///     // Prints "Bryant"</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// You can subscript a collection with any valid index other than the</span></span><br><span class="line">  <span class="comment">/// collection's end index. The end index refers to the position one past</span></span><br><span class="line">  <span class="comment">/// the last element of a collection, so it doesn't correspond with an</span></span><br><span class="line">  <span class="comment">/// element.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Parameter position: The position of the element to access. `position`</span></span><br><span class="line">  <span class="comment">///   must be a valid index of the collection that is not equal to the</span></span><br><span class="line">  <span class="comment">///   `endIndex` property.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(1)</span></span><br><span class="line">  @_borrowed</span><br><span class="line">  <span class="keyword">subscript</span>(position: <span class="type">Index</span>) -&gt; <span class="type">Element</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Accesses a contiguous subrange of the collection's elements.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// For example, using a `PartialRangeFrom` range expression with an array</span></span><br><span class="line">  <span class="comment">/// accesses the subrange from the start of the range expression until the</span></span><br><span class="line">  <span class="comment">/// end of the array.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     let streets = ["Adams", "Bryant", "Channing", "Douglas", "Evarts"]</span></span><br><span class="line">  <span class="comment">///     let streetsSlice = streets[2..&lt;5]</span></span><br><span class="line">  <span class="comment">///     print(streetsSlice)</span></span><br><span class="line">  <span class="comment">///     // ["Channing", "Douglas", "Evarts"]</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The accessed slice uses the same indices for the same elements as the</span></span><br><span class="line">  <span class="comment">/// original collection. This example searches `streetsSlice` for one of the</span></span><br><span class="line">  <span class="comment">/// strings in the slice, and then uses that index in the original array.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     let index = streetsSlice.firstIndex(of: "Evarts")!    // 4</span></span><br><span class="line">  <span class="comment">///     print(streets[index])</span></span><br><span class="line">  <span class="comment">///     // "Evarts"</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// Always use the slice's `startIndex` property instead of assuming that its</span></span><br><span class="line">  <span class="comment">/// indices start at a particular value. Attempting to access an element by</span></span><br><span class="line">  <span class="comment">/// using an index outside the bounds of the slice may result in a runtime</span></span><br><span class="line">  <span class="comment">/// error, even if that index is valid for the original collection.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     print(streetsSlice.startIndex)</span></span><br><span class="line">  <span class="comment">///     // 2</span></span><br><span class="line">  <span class="comment">///     print(streetsSlice[2])</span></span><br><span class="line">  <span class="comment">///     // "Channing"</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     print(streetsSlice[0])</span></span><br><span class="line">  <span class="comment">///     // error: Index out of bounds</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Parameter bounds: A range of the collection's indices. The bounds of</span></span><br><span class="line">  <span class="comment">///   the range must be valid indices of the collection.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(1)</span></span><br><span class="line">  <span class="keyword">subscript</span>(bounds: <span class="type">Range</span>&lt;<span class="type">Index</span>&gt;) -&gt; <span class="type">SubSequence</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// A type that represents the indices that are valid for subscripting the</span></span><br><span class="line">  <span class="comment">/// collection, in ascending order.</span></span><br><span class="line">  associatedtype <span class="type">Indices</span>: <span class="type">Collection</span> = <span class="type">DefaultIndices</span>&lt;<span class="type">Self</span>&gt;</span><br><span class="line">    <span class="keyword">where</span> <span class="type">Indices</span>.<span class="type">Element</span> == <span class="type">Index</span>, </span><br><span class="line">          <span class="type">Indices</span>.<span class="type">Index</span> == <span class="type">Index</span>,</span><br><span class="line">          <span class="type">Indices</span>.<span class="type">SubSequence</span> == <span class="type">Indices</span></span><br><span class="line">        </span><br><span class="line">  <span class="comment">/// The indices that are valid for subscripting the collection, in ascending</span></span><br><span class="line">  <span class="comment">/// order.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// A collection's `indices` property can hold a strong reference to the</span></span><br><span class="line">  <span class="comment">/// collection itself, causing the collection to be nonuniquely referenced.</span></span><br><span class="line">  <span class="comment">/// If you mutate the collection while iterating over its indices, a strong</span></span><br><span class="line">  <span class="comment">/// reference can result in an unexpected copy of the collection. To avoid</span></span><br><span class="line">  <span class="comment">/// the unexpected copy, use the `index(after:)` method starting with</span></span><br><span class="line">  <span class="comment">/// `startIndex` to produce indices instead.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     var c = MyFancyCollection([10, 20, 30, 40, 50])</span></span><br><span class="line">  <span class="comment">///     var i = c.startIndex</span></span><br><span class="line">  <span class="comment">///     while i != c.endIndex &#123;</span></span><br><span class="line">  <span class="comment">///         c[i] /= 5</span></span><br><span class="line">  <span class="comment">///         i = c.index(after: i)</span></span><br><span class="line">  <span class="comment">///     &#125;</span></span><br><span class="line">  <span class="comment">///     // c == MyFancyCollection([2, 4, 6, 8, 10])</span></span><br><span class="line">  <span class="keyword">var</span> <span class="built_in">indices</span>: <span class="type">Indices</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// A Boolean value indicating whether the collection is empty.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// When you need to check whether your collection is empty, use the</span></span><br><span class="line">  <span class="comment">/// `isEmpty` property instead of checking that the `count` property is</span></span><br><span class="line">  <span class="comment">/// equal to zero. For collections that don't conform to</span></span><br><span class="line">  <span class="comment">/// `RandomAccessCollection`, accessing the `count` property iterates</span></span><br><span class="line">  <span class="comment">/// through the elements of the collection.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     let horseName = "Silver"</span></span><br><span class="line">  <span class="comment">///     if horseName.isEmpty &#123;</span></span><br><span class="line">  <span class="comment">///         print("My horse has no name.")</span></span><br><span class="line">  <span class="comment">///     &#125; else &#123;</span></span><br><span class="line">  <span class="comment">///         print("Hi ho, \(horseName)!")</span></span><br><span class="line">  <span class="comment">///     &#125;</span></span><br><span class="line">  <span class="comment">///     // Prints "Hi ho, Silver!"</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(1)</span></span><br><span class="line">  <span class="keyword">var</span> isEmpty: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// The number of elements in the collection.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// To check whether a collection is empty, use its `isEmpty` property</span></span><br><span class="line">  <span class="comment">/// instead of comparing `count` to zero. Unless the collection guarantees</span></span><br><span class="line">  <span class="comment">/// random-access performance, calculating `count` can be an O(*n*)</span></span><br><span class="line">  <span class="comment">/// operation.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(1) if the collection conforms to</span></span><br><span class="line">  <span class="comment">///   `RandomAccessCollection`; otherwise, O(*n*), where *n* is the length</span></span><br><span class="line">  <span class="comment">///   of the collection.</span></span><br><span class="line">  <span class="keyword">var</span> <span class="built_in">count</span>: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// The following requirements enable dispatching for firstIndex(of:) and</span></span><br><span class="line">  <span class="comment">// lastIndex(of:) when the element type is Equatable.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Returns `Optional(Optional(index))` if an element was found</span></span><br><span class="line">  <span class="comment">/// or `Optional(nil)` if an element was determined to be missing;</span></span><br><span class="line">  <span class="comment">/// otherwise, `nil`.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(*n*), where *n* is the length of the collection.</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">_customIndexOfEquatableElement</span><span class="params">(<span class="number">_</span> element: Element)</span></span> -&gt; <span class="type">Index</span>??</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Customization point for `Collection.lastIndex(of:)`.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// Define this method if the collection can find an element in less than</span></span><br><span class="line">  <span class="comment">/// O(*n*) by exploiting collection-specific knowledge.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Returns: `nil` if a linear search should be attempted instead,</span></span><br><span class="line">  <span class="comment">///   `Optional(nil)` if the element was not found, or</span></span><br><span class="line">  <span class="comment">///   `Optional(Optional(index))` if an element was found.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: Hopefully less than O(`count`).</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">_customLastIndexOfEquatableElement</span><span class="params">(<span class="number">_</span> element: Element)</span></span> -&gt; <span class="type">Index</span>??</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Returns an index that is the specified distance from the given index.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The following example obtains an index advanced four positions from a</span></span><br><span class="line">  <span class="comment">/// string's starting index and then prints the character at that position.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     let s = "Swift"</span></span><br><span class="line">  <span class="comment">///     let i = s.index(s.startIndex, offsetBy: 4)</span></span><br><span class="line">  <span class="comment">///     print(s[i])</span></span><br><span class="line">  <span class="comment">///     // Prints "t"</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The value passed as `distance` must not offset `i` beyond the bounds of</span></span><br><span class="line">  <span class="comment">/// the collection.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Parameters:</span></span><br><span class="line">  <span class="comment">///   - i: A valid index of the collection.</span></span><br><span class="line">  <span class="comment">///   - distance: The distance to offset `i`. `distance` must not be negative</span></span><br><span class="line">  <span class="comment">///     unless the collection conforms to the `BidirectionalCollection`</span></span><br><span class="line">  <span class="comment">///     protocol.</span></span><br><span class="line">  <span class="comment">/// - Returns: An index offset by `distance` from the index `i`. If</span></span><br><span class="line">  <span class="comment">///   `distance` is positive, this is the same value as the result of</span></span><br><span class="line">  <span class="comment">///   `distance` calls to `index(after:)`. If `distance` is negative, this</span></span><br><span class="line">  <span class="comment">///   is the same value as the result of `abs(distance)` calls to</span></span><br><span class="line">  <span class="comment">///   `index(before:)`.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(1) if the collection conforms to</span></span><br><span class="line">  <span class="comment">///   `RandomAccessCollection`; otherwise, O(*k*), where *k* is the absolute</span></span><br><span class="line">  <span class="comment">///   value of `distance`.</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">index</span><span class="params">(<span class="number">_</span> i: Index, offsetBy <span class="built_in">distance</span>: Int)</span></span> -&gt; <span class="type">Index</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Returns an index that is the specified distance from the given index,</span></span><br><span class="line">  <span class="comment">/// unless that distance is beyond a given limiting index.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The following example obtains an index advanced four positions from a</span></span><br><span class="line">  <span class="comment">/// string's starting index and then prints the character at that position.</span></span><br><span class="line">  <span class="comment">/// The operation doesn't require going beyond the limiting `s.endIndex`</span></span><br><span class="line">  <span class="comment">/// value, so it succeeds.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     let s = "Swift"</span></span><br><span class="line">  <span class="comment">///     if let i = s.index(s.startIndex, offsetBy: 4, limitedBy: s.endIndex) &#123;</span></span><br><span class="line">  <span class="comment">///         print(s[i])</span></span><br><span class="line">  <span class="comment">///     &#125;</span></span><br><span class="line">  <span class="comment">///     // Prints "t"</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The next example attempts to retrieve an index six positions from</span></span><br><span class="line">  <span class="comment">/// `s.startIndex` but fails, because that distance is beyond the index</span></span><br><span class="line">  <span class="comment">/// passed as `limit`.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     let j = s.index(s.startIndex, offsetBy: 6, limitedBy: s.endIndex)</span></span><br><span class="line">  <span class="comment">///     print(j)</span></span><br><span class="line">  <span class="comment">///     // Prints "nil"</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The value passed as `distance` must not offset `i` beyond the bounds of</span></span><br><span class="line">  <span class="comment">/// the collection, unless the index passed as `limit` prevents offsetting</span></span><br><span class="line">  <span class="comment">/// beyond those bounds.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Parameters:</span></span><br><span class="line">  <span class="comment">///   - i: A valid index of the collection.</span></span><br><span class="line">  <span class="comment">///   - distance: The distance to offset `i`. `distance` must not be negative</span></span><br><span class="line">  <span class="comment">///     unless the collection conforms to the `BidirectionalCollection`</span></span><br><span class="line">  <span class="comment">///     protocol.</span></span><br><span class="line">  <span class="comment">///   - limit: A valid index of the collection to use as a limit. If</span></span><br><span class="line">  <span class="comment">///     `distance &gt; 0`, a limit that is less than `i` has no effect.</span></span><br><span class="line">  <span class="comment">///     Likewise, if `distance &lt; 0`, a limit that is greater than `i` has no</span></span><br><span class="line">  <span class="comment">///     effect.</span></span><br><span class="line">  <span class="comment">/// - Returns: An index offset by `distance` from the index `i`, unless that</span></span><br><span class="line">  <span class="comment">///   index would be beyond `limit` in the direction of movement. In that</span></span><br><span class="line">  <span class="comment">///   case, the method returns `nil`.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(1) if the collection conforms to</span></span><br><span class="line">  <span class="comment">///   `RandomAccessCollection`; otherwise, O(*k*), where *k* is the absolute</span></span><br><span class="line">  <span class="comment">///   value of `distance`.</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">index</span><span class="params">(</span><br><span class="line">    <span class="number">_</span> i: Index, offsetBy <span class="built_in">distance</span>: Int, limitedBy limit: Index</span><br><span class="line">  )</span></span> -&gt; <span class="type">Index</span>?</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Returns the distance between two indices.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// Unless the collection conforms to the `BidirectionalCollection` protocol,</span></span><br><span class="line">  <span class="comment">/// `start` must be less than or equal to `end`.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Parameters:</span></span><br><span class="line">  <span class="comment">///   - start: A valid index of the collection.</span></span><br><span class="line">  <span class="comment">///   - end: Another valid index of the collection. If `end` is equal to</span></span><br><span class="line">  <span class="comment">///     `start`, the result is zero.</span></span><br><span class="line">  <span class="comment">/// - Returns: The distance between `start` and `end`. The result can be</span></span><br><span class="line">  <span class="comment">///   negative only if the collection conforms to the</span></span><br><span class="line">  <span class="comment">///   `BidirectionalCollection` protocol.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(1) if the collection conforms to</span></span><br><span class="line">  <span class="comment">///   `RandomAccessCollection`; otherwise, O(*k*), where *k* is the</span></span><br><span class="line">  <span class="comment">///   resulting distance.</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">distance</span><span class="params">(from start: Index, to end: Index)</span></span> -&gt; <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Performs a range check in O(1), or a no-op when a range check is not</span></span><br><span class="line">  <span class="comment">/// implementable in O(1).</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The range check, if performed, is equivalent to:</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     precondition(bounds.contains(index))</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// Use this function to perform a cheap range check for QoI purposes when</span></span><br><span class="line">  <span class="comment">/// memory safety is not a concern.  Do not rely on this range check for</span></span><br><span class="line">  <span class="comment">/// memory safety.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The default implementation for forward and bidirectional indices is a</span></span><br><span class="line">  <span class="comment">/// no-op.  The default implementation for random access indices performs a</span></span><br><span class="line">  <span class="comment">/// range check.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(1).</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">_failEarlyRangeCheck</span><span class="params">(<span class="number">_</span> index: Index, bounds: Range&lt;Index&gt;)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">_failEarlyRangeCheck</span><span class="params">(<span class="number">_</span> index: Index, bounds: ClosedRange&lt;Index&gt;)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Performs a range check in O(1), or a no-op when a range check is not</span></span><br><span class="line">  <span class="comment">/// implementable in O(1).</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The range check, if performed, is equivalent to:</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">///     precondition(</span></span><br><span class="line">  <span class="comment">///       bounds.contains(range.lowerBound) ||</span></span><br><span class="line">  <span class="comment">///       range.lowerBound == bounds.upperBound)</span></span><br><span class="line">  <span class="comment">///     precondition(</span></span><br><span class="line">  <span class="comment">///       bounds.contains(range.upperBound) ||</span></span><br><span class="line">  <span class="comment">///       range.upperBound == bounds.upperBound)</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// Use this function to perform a cheap range check for QoI purposes when</span></span><br><span class="line">  <span class="comment">/// memory safety is not a concern.  Do not rely on this range check for</span></span><br><span class="line">  <span class="comment">/// memory safety.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The default implementation for forward and bidirectional indices is a</span></span><br><span class="line">  <span class="comment">/// no-op.  The default implementation for random access indices performs a</span></span><br><span class="line">  <span class="comment">/// range check.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Complexity: O(1).</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">_failEarlyRangeCheck</span><span class="params">(<span class="number">_</span> range: Range&lt;Index&gt;, bounds: Range&lt;Index&gt;)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Returns the position immediately after the given index.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// The successor of an index must be well defined. For an index `i` into a</span></span><br><span class="line">  <span class="comment">/// collection `c`, calling `c.index(after: i)` returns the same index every</span></span><br><span class="line">  <span class="comment">/// time.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Parameter i: A valid index of the collection. `i` must be less than</span></span><br><span class="line">  <span class="comment">///   `endIndex`.</span></span><br><span class="line">  <span class="comment">/// - Returns: The index value immediately after `i`.</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">index</span><span class="params">(after i: Index)</span></span> -&gt; <span class="type">Index</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Replaces the given index with its successor.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Parameter i: A valid index of the collection. `i` must be less than</span></span><br><span class="line">  <span class="comment">///   `endIndex`.</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">formIndex</span><span class="params">(after i: <span class="keyword">inout</span> Index)</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Functions">Functions</h1><h2 id="randomeElement">randomeElement</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/// 这两个方法我觉得可以用在测试代码中，如可以方便的随机选取登陆用户账号密码用于测试，或者随机一个dataset传入要测试的方法中</span></span><br><span class="line">  @inlinable</span><br><span class="line">  <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">randomElement</span><span class="generics">&lt;T: RandomNumberGenerator&gt;</span><span class="params">(</span><br><span class="line">    using generator: <span class="keyword">inout</span> T</span><br><span class="line">  )</span></span> -&gt; <span class="type">Element</span>? &#123;</span><br><span class="line">    <span class="keyword">guard</span> !isEmpty <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">    <span class="keyword">let</span> random = <span class="type">Int</span>.random(<span class="keyword">in</span>: <span class="number">0</span> ..&lt; <span class="built_in">count</span>, using: &amp;generator)</span><br><span class="line">    <span class="keyword">let</span> idx = index(startIndex, offsetBy: random)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>[idx]</span><br><span class="line">  &#125;</span><br><span class="line">  @inlinable</span><br><span class="line">  <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">randomElement</span><span class="params">()</span></span> -&gt; <span class="type">Element</span>? &#123;</span><br><span class="line">    <span class="keyword">var</span> g = <span class="type">SystemRandomNumberGenerator</span>()</span><br><span class="line">    <span class="keyword">return</span> randomElement(using: &amp;g)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/// The system's default source of random data.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// When you generate random values, shuffle a collection, or perform another</span></span><br><span class="line"><span class="comment">/// operation that depends on random data, this type is the generator used by</span></span><br><span class="line"><span class="comment">/// default. For example, the two method calls in this example are equivalent:</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///     let x = Int.random(in: 1...100)</span></span><br><span class="line"><span class="comment">///     var g = SystemRandomNumberGenerator()</span></span><br><span class="line"><span class="comment">///     let y = Int.random(in: 1...100, using: &amp;g)</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// `SystemRandomNumberGenerator` is automatically seeded, is safe to use in</span></span><br><span class="line"><span class="comment">/// multiple threads, and uses a cryptographically secure algorithm whenever</span></span><br><span class="line"><span class="comment">/// possible.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Platform Implementation of `SystemRandomNumberGenerator`</span></span><br><span class="line"><span class="comment">/// ========================================================</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// While the system generator is automatically seeded and thread-safe on every</span></span><br><span class="line"><span class="comment">/// platform, the cryptographic quality of the stream of random data produced by</span></span><br><span class="line"><span class="comment">/// the generator may vary. For more detail, see the documentation for the APIs</span></span><br><span class="line"><span class="comment">/// used by each platform.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// - Apple platforms use `arc4random_buf(3)`.</span></span><br><span class="line"><span class="comment">/// - Linux platforms use `getrandom(2)` when available; otherwise, they read</span></span><br><span class="line"><span class="comment">///   from `/dev/urandom`.</span></span><br><span class="line"><span class="comment">/// - Windows uses `BCryptGenRandom`</span></span><br><span class="line">  @frozen</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">SystemRandomNumberGenerator</span>: <span class="title">RandomNumberGenerator</span>, <span class="title">Sendable</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// Creates a new instance of the system's default random number generator.</span></span><br><span class="line">  @inlinable</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">init</span>() &#123; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// Returns a value from a uniform, independent distribution of binary data.</span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// - Returns: An unsigned 64-bit random value.</span></span><br><span class="line">  @inlinable</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">mutating</span> <span class="func"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span> -&gt; <span class="type">UInt64</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> random: <span class="type">UInt64</span> = <span class="number">0</span></span><br><span class="line">    swift_stdlib_random(&amp;random, <span class="type">MemoryLayout</span>&lt;<span class="type">UInt64</span>&gt;.size)</span><br><span class="line">    <span class="keyword">return</span> random</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="popFirst">popFirst</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Removes and returns the first element of the collection.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// - Returns: The first element of the collection if the collection is</span></span><br><span class="line"><span class="comment">///   not empty; otherwise, `nil`.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// - Complexity: O(1)</span></span><br><span class="line">@inlinable</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">mutating</span> <span class="func"><span class="keyword">func</span> <span class="title">popFirst</span><span class="params">()</span></span> -&gt; <span class="type">Element</span>? &#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> swift-3-indexing-model - review the following</span></span><br><span class="line">  <span class="keyword">guard</span> !isEmpty <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">  <span class="comment">/// 一定有倔种来告诉我，我们在swift不推荐使用“!”</span></span><br><span class="line">  <span class="keyword">let</span> element = first!</span><br><span class="line">  <span class="comment">/// 你删除first这么带劲吗？</span></span><br><span class="line">  <span class="keyword">self</span> = <span class="keyword">self</span>[index(after: startIndex)..&lt;endIndex]</span><br><span class="line">  <span class="keyword">return</span> element</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="isEmpty">isEmpty</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// isEmpty 有什么值得写的？请认真看看下面的注视</span></span><br><span class="line"><span class="comment">/// A Boolean value indicating whether the collection is empty.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// When you need to check whether your collection is empty, use the</span></span><br><span class="line"><span class="comment">/// `isEmpty` property instead of checking that the `count` property is</span></span><br><span class="line"><span class="comment">/// equal to zero. For collections that don't conform to</span></span><br><span class="line"><span class="comment">/// `RandomAccessCollection`, accessing the `count` property iterates</span></span><br><span class="line"><span class="comment">/// through the elements of the collection.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///     let horseName = "Silver"</span></span><br><span class="line"><span class="comment">///     if horseName.isEmpty &#123;</span></span><br><span class="line"><span class="comment">///         print("My horse has no name.")</span></span><br><span class="line"><span class="comment">///     &#125; else &#123;</span></span><br><span class="line"><span class="comment">///         print("Hi ho, \(horseName)!")</span></span><br><span class="line"><span class="comment">///     &#125;</span></span><br><span class="line"><span class="comment">///     // Prints "Hi ho, Silver!")</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// - Complexity: O(1)</span></span><br><span class="line">@inlinable</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">var</span> isEmpty: <span class="type">Bool</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> startIndex == endIndex</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2022/05/11/Swift-Source-Code-Collection/" data-id="cl8wql7f8002203xkpsscxio0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift-source-code/">swift source code</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/05/13/Swift-Source-Code-ContiguousArray/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Swift Source Code: ContiguousArray
        
      </div>
    </a>
  
  
    <a href="/2022/05/04/Swift-Source-Code-Sequence/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Swift Source Code: Sequence</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLite/">SQLite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unix/">Unix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/combine/">combine</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-archlinux/">linux, archlinux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phonegap/">phonegap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/programming/">programming</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reading/">reading</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swift-source-code/">swift source code</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编辑器配置文件/">编辑器配置文件</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读书/">读书</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 17.5px;">C</a> <a href="/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/tags/Unix/" style="font-size: 10px;">Unix</a> <a href="/tags/combine/" style="font-size: 12.5px;">combine</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/linux-archlinux/" style="font-size: 10px;">linux, archlinux</a> <a href="/tags/phonegap/" style="font-size: 10px;">phonegap</a> <a href="/tags/programming/" style="font-size: 10px;">programming</a> <a href="/tags/reading/" style="font-size: 17.5px;">reading</a> <a href="/tags/swift-source-code/" style="font-size: 15px;">swift source code</a> <a href="/tags/算法/" style="font-size: 10px;">算法</a> <a href="/tags/编辑器配置文件/" style="font-size: 10px;">编辑器配置文件</a> <a href="/tags/读书/" style="font-size: 10px;">读书</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">二月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">十月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">七月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">五月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">一月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">五月 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/10/06/Four-Thousand-Weeks/">Four Thousand Weeks</a>
          </li>
        
          <li>
            <a href="/2022/07/06/麦肯锡方法/">麦肯锡方法</a>
          </li>
        
          <li>
            <a href="/2022/06/19/悉达多/">悉达多</a>
          </li>
        
          <li>
            <a href="/2022/06/13/信心/">信心</a>
          </li>
        
          <li>
            <a href="/2022/06/04/Combine-Publisher/">Combine: Publisher</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Anyuan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">home</a>
  
    <a href="/archives" class="mobile-nav-link">archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>