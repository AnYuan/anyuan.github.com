<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Combine: Introduction | Anyuan&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="CombineCustomize handling of asynchronous events by combining event-processing operators.
The Combine framework provides a declarative Swift API for processing values over time. These values can repre">
<meta property="og:type" content="article">
<meta property="og:title" content="Combine: Introduction">
<meta property="og:url" content="http://yoursite.com/2022/05/30/Combine-Introduction/index.html">
<meta property="og:site_name" content="Anyuan's blog">
<meta property="og:description" content="CombineCustomize handling of asynchronous events by combining event-processing operators.
The Combine framework provides a declarative Swift API for processing values over time. These values can repre">
<meta property="og:updated_time" content="2022-06-12T07:19:07.622Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Combine: Introduction">
<meta name="twitter:description" content="CombineCustomize handling of asynchronous events by combining event-processing operators.
The Combine framework provides a declarative Swift API for processing values over time. These values can repre">
  
    <link rel="alternative" href="/atom.xml" title="Anyuan&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Anyuan&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">home</a>
        
          <a class="main-nav-link" href="/archives">archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Combine-Introduction" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/30/Combine-Introduction/" class="article-date">
  <time datetime="2022-05-30T10:56:20.000Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Combine: Introduction
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Combine">Combine</h1><p>Customize handling of asynchronous events by combining event-processing operators.</p>
<p>The Combine framework provides a declarative Swift API for processing values over time. These values can represent many kinds of asynchronous events. Combine declares <code>publishers</code> to expose values that can change over time, and <code>subscribers</code> to receive those vlaues from the publishers.</p>
<p>A unified, declarative API for processing values over time</p>
<ul>
<li>Callbacks</li>
<li>Closures</li>
<li>Notifications</li>
<li>Key Value Observing</li>
</ul>
<h2 id="Features">Features</h2><ul>
<li>Generic</li>
<li>Type safe</li>
<li>Composition first</li>
<li>Request driven</li>
</ul>
<h2 id="Back_pressure">Back pressure</h2><p>Combine is designed such that the subscriber controls the flow data, and because of that it also controls what and when processing happens in the pipeline. This is a feature of Combine called <code>back-pressure</code>.</p>
<p>This means that the subscriber drives the processing within a pipeline by providing information about how much information it wants or can accept. When a subscriber is connected to a publisher, it requests data based on a specific <a href="https://developer.apple.com/documentation/combine/subscribers/demand" target="_blank" rel="external">Demand</a>.</p>
<p>The demand request is propagated up through the composed pipeline. Each operator in turn accepts the request for data and in turn requests information from the publishers to which it is connected.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In the first <span class="operator"><span class="keyword">release</span> <span class="keyword">of</span> the Combine framework - <span class="keyword">in</span> iOS <span class="number">13</span> <span class="keyword">prior</span> <span class="keyword">to</span> iOS <span class="number">13.3</span> <span class="keyword">and</span> macOS <span class="keyword">prior</span> <span class="keyword">to</span> <span class="number">10.15</span><span class="number">.2</span> - <span class="keyword">when</span> the subscriber requested <span class="keyword">data</span> <span class="keyword">with</span> a <span class="keyword">Demand</span>, that <span class="keyword">call</span> itself was <span class="keyword">asynchronous</span>. Because this process acted <span class="keyword">as</span> the driver which triggered attached operators <span class="keyword">and</span> ultimately the <span class="keyword">source</span> publisher, it meant that there were scenarios <span class="keyword">where</span> <span class="keyword">data</span> might appear <span class="keyword">to</span> be lost. Due <span class="keyword">to</span> this, <span class="keyword">in</span> iOS <span class="number">13.3</span> <span class="keyword">and</span> later Combine releases, the process <span class="keyword">of</span> requesting <span class="keyword">demand</span> has been <span class="keyword">updated</span> <span class="keyword">to</span> a <span class="keyword">synchronous</span>/blocking <span class="keyword">call</span>. <span class="keyword">In</span> practice, this means that you can be a <span class="built_in">bit</span> more certain <span class="keyword">of</span> <span class="keyword">having</span> <span class="keyword">any</span> pipelines created <span class="keyword">and</span> fully engaged <span class="keyword">prior</span> <span class="keyword">to</span> a publisher receiving the request <span class="keyword">to</span> send <span class="keyword">any</span> <span class="keyword">data</span>.</span></span><br></pre></td></tr></table></figure>
<p>With the subscriber driving this process, it allows Combine to support cancellation. Subscribers all conform to the <code>Cancellabele</code> protocol. This means they all have a function <code>cancel()</code> that can be invoked to terminate a pipeline and stop all realted processing.</p>
<h2 id="Lifecycle_of_Publishers_and_Subscribers">Lifecycle of Publishers and Subscribers</h2><ol>
<li><p>When the subscriber is attached to a publisher, it starts with a call to <code>.subscribe(_: Subscriber)</code>.</p>
</li>
<li><p>The publisher in turn acknowledges the subscription calling <code>receive(subscription: Subscription)</code>.</p>
</li>
<li><p>After the subscription has been acknowledged, the subscriber requests N values with <code>request(_: Demaind)</code>.</p>
</li>
<li><p>The publisher may then (as it has values) send N(or fewer) values using <code>receive(_: Input)</code>. A publisher should never send more than the demand requested.</p>
</li>
<li><p>Any time after the subscription has been acknowledged, the subscriber may send a <code>cancellation</code> with <code>.cancel()</code>.</p>
</li>
<li><p>A publisher may optionally send <code>completion</code>: <code>receive(completion:)</code>. A completion can be either a normal termination, or may be a <code>.failure</code> completion, optionally propagating an error type. A pipeline that has been cancelled will not send any completions.</p>
</li>
</ol>
<h2 id="Key_Concepts">Key Concepts</h2><h3 id="Publisher">Publisher</h3><p>The <code>Publisher</code> protocol declares a type that can deliver a sequence of values over time. Publishers have operators to act on the values received from upstream publishers and republish them.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">@available</span>(macOS <span class="number">10.15</span>, iOS <span class="number">13.0</span>, tvOS <span class="number">13.0</span>, watchOS <span class="number">6.0</span>, *)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Publisher</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The kind of values published by this publisher.</span></span><br><span class="line">    associatedtype <span class="type">Output</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The kind of errors this publisher might publish.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// Use `Never` if this `Publisher` does not publish errors.</span></span><br><span class="line">    associatedtype <span class="type">Failure</span> : <span class="type">Error</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Attaches the specified subscriber to this publisher.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// Implementations of ``Publisher`` must implement this method.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// The provided implementation of ``Publisher/subscribe(_:)-4u8kn``calls this method.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter subscriber: The subscriber to attach to this ``Publisher``, after which it can receive values.</span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">receive</span><span class="generics">&lt;S&gt;</span><span class="params">(subscriber: S)</span></span> <span class="keyword">where</span> <span class="type">S</span> : <span class="type">Subscriber</span>, <span class="type">Self</span>.<span class="type">Failure</span> == <span class="type">S</span>.<span class="type">Failure</span>, <span class="type">Self</span>.<span class="type">Output</span> == <span class="type">S</span>.<span class="type">Input</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Recipe for an event stream<ul>
<li>finite: could complete, e.g. network request</li>
<li>infinite: failure or finish will never happen, e.g. button click</li>
</ul>
</li>
<li>Operators describe new publishers from existing</li>
<li>Strongly typed values/errors over time</li>
<li>Can be synchronous or asynchronous</li>
<li>Can attach compatible Subscribers</li>
</ul>
<h3 id="Subscriber">Subscriber</h3><p>At the end of a chain of publishers, a <code>Subscriber</code> acts on elements as it receives them. Publishers only emit values when explicitly requested to do so by subscribers. This puts your subscriber code in control of how fast it receives events from the publishers it’s connected to.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Subscriber</span> </span>&#123;</span><br><span class="line">  associatedtype <span class="type">Input</span></span><br><span class="line">  associatedtype <span class="type">Failure</span>: <span class="type">Error</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// once</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">receive</span><span class="params">(subscription: Subscription)</span></span></span><br><span class="line">  <span class="comment">// zero or More values</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">receive</span><span class="params">(<span class="number">_</span> input: Input)</span></span> -&gt; <span class="type">Subscribers</span>.<span class="type">Demaind</span></span><br><span class="line">  <span class="comment">// At most one completion</span></span><br><span class="line">  <span class="func"><span class="keyword">func</span> <span class="title">receive</span><span class="params">(completion: Subscribers.Completion&lt;Failure&gt;)</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Receives values and a completion</li>
<li>Reference type</li>
<li><p>The Pattern</p>
<ul>
<li><code>Subscriber</code> is attached to <code>Publisher</code></li>
<li><code>Publisher</code> sends a Subscription</li>
<li><code>Subscriber</code> requests N values</li>
<li><code>Publisher</code> sends N values or less</li>
<li><code>Publisher</code> sends completion</li>
</ul>
</li>
<li><p>Kinds of Subscribers</p>
<ul>
<li><p>Key Path Assignment</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> trickNamePublisher = ... <span class="comment">// Publisher of &lt;String, Never&gt;</span></span><br><span class="line"><span class="keyword">let</span> canceller = trickNamePublisher.assign(to: \.someProperty, on: someObject)</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">canceller.cancel()</span><br></pre></td></tr></table></figure>
</li>
<li><p>Sinks</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> trickNamePublisher = ... <span class="comment">// Publisher of &lt;String, Never&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> canceller = trickNamePublisher.sink &#123; trickName <span class="keyword">in</span></span><br><span class="line"><span class="comment">// Do something with trickName</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Subjects</p>
<ul>
<li>Behave like both Publisher and Subscriber</li>
<li><p>Broadcast values to multiple subscribers</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Subject</span>: <span class="title">Publisher</span>, <span class="title">AnyObject</span> </span>&#123;</span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(<span class="number">_</span> value: Output)</span></span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(completion: Subscribers.Completion&lt;Failure&gt;)</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Kinds of Subjects</p>
<ul>
<li>Passthrough</li>
<li>CurrentValue</li>
</ul>
</li>
</ul>
</li>
<li><p>SwiftUI        </p>
</li>
</ul>
</li>
</ul>
<h3 id="Operators">Operators</h3><p>an object that acts both like a subscriber and a publisher. Operators are classes that adopt both the <code>Subscriber</code> protocol and <code>Publisher</code> protocol. They support subscribing to a publisher, and sending resutls to any subscribers.</p>
<ul>
<li>Adopts <code>Publisher</code></li>
<li>Describes a behavior for changing values</li>
<li>Subscribes to a <code>Publisher</code> (“upstream”)</li>
<li>Sends result to a <code>Subscriber</code> (“downstream”)</li>
<li>Value type</li>
<li>Declarative Operator API<ul>
<li>Functional transformations</li>
<li>List operations</li>
<li>Error handling</li>
<li>Thread or queue movement</li>
<li>Scheduling and time</li>
</ul>
</li>
</ul>
<h3 id="Subject">Subject</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// A publisher that exposes a method for outside callers to publish elements.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// A subject is a publisher that you can use to ”inject” values into a stream, by calling its ``Subject/send(_:)`` method. This can be useful for adapting existing imperative code to the Combine model.</span></span><br><span class="line"><span class="preprocessor">@available</span>(macOS <span class="number">10.15</span>, iOS <span class="number">13.0</span>, tvOS <span class="number">13.0</span>, watchOS <span class="number">6.0</span>, *)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Subject</span> : <span class="title">AnyObject</span>, <span class="title">Publisher</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Sends a value to the subscriber.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter value: The value to send.</span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(<span class="number">_</span> value: <span class="keyword">Self</span>.Output)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Sends a completion signal to the subscriber.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter completion: A `Completion` instance which indicates whether publishing has finished normally or failed with an error.</span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(completion: Subscribers.Completion&lt;<span class="keyword">Self</span>.Failure&gt;)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Sends a subscription to the subscriber.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// This call provides the ``Subject`` an opportunity to establish demand for any new upstream subscriptions.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter subscription: The subscription instance through which the subscriber can request elements.</span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(subscription: Subscription)</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Kinds_of_Subject">Kinds of Subject</h4><ul>
<li>PassthroughSubject</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// A subject that broadcasts elements to downstream subscribers.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// As a concrete implementation of ``Subject``, the ``PassthroughSubject`` provides a convenient way to adapt existing imperative code to the Combine model.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Unlike ``CurrentValueSubject``, a ``PassthroughSubject`` doesn’t have an initial value or a buffer of the most recently-published element.</span></span><br><span class="line"><span class="comment">/// A ``PassthroughSubject`` drops values if there are no subscribers, or its current demand is zero.</span></span><br><span class="line"><span class="preprocessor">@available</span>(macOS <span class="number">10.15</span>, iOS <span class="number">13.0</span>, tvOS <span class="number">13.0</span>, watchOS <span class="number">6.0</span>, *)</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PassthroughSubject</span>&lt;<span class="title">Output</span>, <span class="title">Failure</span>&gt; : <span class="title">Subject</span> <span class="title">where</span> <span class="title">Failure</span> : <span class="title">Error</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Sends a subscription to the subscriber.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// This call provides the ``Subject`` an opportunity to establish demand for any new upstream subscriptions.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter subscription: The subscription instance through which the subscriber can request elements.</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(subscription: Subscription)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Attaches the specified subscriber to this publisher.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// Implementations of ``Publisher`` must implement this method.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// The provided implementation of ``Publisher/subscribe(_:)-4u8kn``calls this method.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter subscriber: The subscriber to attach to this ``Publisher``, after which it can receive values.</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">receive</span><span class="generics">&lt;S&gt;</span><span class="params">(subscriber: S)</span></span> <span class="keyword">where</span> <span class="type">Output</span> == <span class="type">S</span>.<span class="type">Input</span>, <span class="type">Failure</span> == <span class="type">S</span>.<span class="type">Failure</span>, <span class="type">S</span> : <span class="type">Subscriber</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Sends a value to the subscriber.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter value: The value to send.</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(<span class="number">_</span> input: Output)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Sends a completion signal to the subscriber.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter completion: A `Completion` instance which indicates whether publishing has finished normally or failed with an error.</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(completion: Subscribers.Completion&lt;Failure&gt;)</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>CurrentValueSubject</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// A subject that wraps a single value and publishes a new element whenever the value changes.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Unlike ``PassthroughSubject``, ``CurrentValueSubject`` maintains a buffer of the most recently published element.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Calling ``CurrentValueSubject/send(_:)`` on a ``CurrentValueSubject`` also updates the current value, making it equivalent to updating the ``CurrentValueSubject/value`` directly.</span></span><br><span class="line"><span class="preprocessor">@available</span>(macOS <span class="number">10.15</span>, iOS <span class="number">13.0</span>, tvOS <span class="number">13.0</span>, watchOS <span class="number">6.0</span>, *)</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CurrentValueSubject</span>&lt;<span class="title">Output</span>, <span class="title">Failure</span>&gt; : <span class="title">Subject</span> <span class="title">where</span> <span class="title">Failure</span> : <span class="title">Error</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The value wrapped by this subject, published as a new element whenever it changes.</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="keyword">var</span> value: <span class="type">Output</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Creates a current value subject with the given initial value.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter value: The initial value to publish.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(<span class="number">_</span> value: <span class="type">Output</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Sends a subscription to the subscriber.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// This call provides the ``Subject`` an opportunity to establish demand for any new upstream subscriptions.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter subscription: The subscription instance through which the subscriber can request elements.</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(subscription: Subscription)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Attaches the specified subscriber to this publisher.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// Implementations of ``Publisher`` must implement this method.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// The provided implementation of ``Publisher/subscribe(_:)-4u8kn``calls this method.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter subscriber: The subscriber to attach to this ``Publisher``, after which it can receive values.</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">receive</span><span class="generics">&lt;S&gt;</span><span class="params">(subscriber: S)</span></span> <span class="keyword">where</span> <span class="type">Output</span> == <span class="type">S</span>.<span class="type">Input</span>, <span class="type">Failure</span> == <span class="type">S</span>.<span class="type">Failure</span>, <span class="type">S</span> : <span class="type">Subscriber</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Sends a value to the subscriber.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter value: The value to send.</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(<span class="number">_</span> input: Output)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Sends a completion signal to the subscriber.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameter completion: A `Completion` instance which indicates whether publishing has finished normally or failed with an error.</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">send</span><span class="params">(completion: Subscribers.Completion&lt;Failure&gt;)</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Scheduler">Scheduler</h3><h4 id="When">When</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// A protocol that defines when and how to execute a closure.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// You can use a scheduler to execute code as soon as possible, or after a future date.</span></span><br><span class="line"><span class="comment">/// Individual scheduler implementations use whatever time-keeping system makes sense for them. Schedulers express this as their `SchedulerTimeType`. Since this type conforms to ``SchedulerTimeIntervalConvertible``, you can always express these times with the convenience functions like `.milliseconds(500)`. Schedulers can accept options to control how they execute the actions passed to them. These options may control factors like which threads or dispatch queues execute the actions.</span></span><br><span class="line"><span class="preprocessor">@available</span>(macOS <span class="number">10.15</span>, iOS <span class="number">13.0</span>, tvOS <span class="number">13.0</span>, watchOS <span class="number">6.0</span>, *)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Scheduler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Describes an instant in time for this scheduler.</span></span><br><span class="line">    associatedtype <span class="type">SchedulerTimeType</span> : <span class="type">Strideable</span> <span class="keyword">where</span> <span class="type">Self</span>.<span class="type">SchedulerTimeType</span>.<span class="type">Stride</span> : <span class="type">SchedulerTimeIntervalConvertible</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// A type that defines options accepted by the scheduler.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// This type is freely definable by each `Scheduler`. Typically, operations that take a `Scheduler` parameter will also take `SchedulerOptions`.</span></span><br><span class="line">    associatedtype <span class="type">SchedulerOptions</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// This scheduler’s definition of the current moment in time.</span></span><br><span class="line">    <span class="keyword">var</span> now: <span class="type">Self</span>.<span class="type">SchedulerTimeType</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The minimum tolerance allowed by the scheduler.</span></span><br><span class="line">    <span class="keyword">var</span> minimumTolerance: <span class="type">Self</span>.<span class="type">SchedulerTimeType</span>.<span class="type">Stride</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Performs the action at the next possible opportunity.</span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">schedule</span><span class="params">(options: <span class="keyword">Self</span>.SchedulerOptions?, <span class="number">_</span> action: @escaping <span class="params">()</span></span></span> -&gt; <span class="type">Void</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Performs the action at some time after the specified date.</span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">schedule</span><span class="params">(after date: <span class="keyword">Self</span>.SchedulerTimeType, tolerance: <span class="keyword">Self</span>.SchedulerTimeType.Stride, options: <span class="keyword">Self</span>.SchedulerOptions?, <span class="number">_</span> action: @escaping <span class="params">()</span></span></span> -&gt; <span class="type">Void</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Performs the action at some time after the specified date, at the specified frequency, optionally taking into account tolerance if possible.</span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">schedule</span><span class="params">(after date: <span class="keyword">Self</span>.SchedulerTimeType, interval: <span class="keyword">Self</span>.SchedulerTimeType.Stride, tolerance: <span class="keyword">Self</span>.SchedulerTimeType.Stride, options: <span class="keyword">Self</span>.SchedulerOptions?, <span class="number">_</span> action: @escaping <span class="params">()</span></span></span> -&gt; <span class="type">Void</span>) -&gt; <span class="type">Cancellable</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Where">Where</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">@available</span>(macOS <span class="number">10.15</span>, iOS <span class="number">13.0</span>, tvOS <span class="number">13.0</span>, watchOS <span class="number">6.0</span>, *)</span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Publisher</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Specifies the scheduler on which to receive elements from the publisher.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// You use the ``Publisher/receive(on:options:)`` operator to receive results and completion on a specific scheduler, such as performing UI work on the main run loop. In contrast with ``Publisher/subscribe(on:options:)``, which affects upstream messages, ``Publisher/receive(on:options:)`` changes the execution context of downstream messages.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// In the following example, the ``Publisher/subscribe(on:options:)`` operator causes `jsonPublisher` to receive requests on `backgroundQueue`, while the</span></span><br><span class="line">    <span class="comment">/// ``Publisher/receive(on:options:)`` causes `labelUpdater` to receive elements and completion on `RunLoop.main`.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">///     let jsonPublisher = MyJSONLoaderPublisher() // Some publisher.</span></span><br><span class="line">    <span class="comment">///     let labelUpdater = MyLabelUpdateSubscriber() // Some subscriber that updates the UI.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">///     jsonPublisher</span></span><br><span class="line">    <span class="comment">///         .subscribe(on: backgroundQueue)</span></span><br><span class="line">    <span class="comment">///         .receive(on: RunLoop.main)</span></span><br><span class="line">    <span class="comment">///         .subscribe(labelUpdater)</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// Prefer ``Publisher/receive(on:options:)`` over explicit use of dispatch queues when performing work in subscribers. For example, instead of the following pattern:</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">///     pub.sink &#123;</span></span><br><span class="line">    <span class="comment">///         DispatchQueue.main.async &#123;</span></span><br><span class="line">    <span class="comment">///             // Do something.</span></span><br><span class="line">    <span class="comment">///         &#125;</span></span><br><span class="line">    <span class="comment">///     &#125;</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// Use this pattern instead:</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">///     pub.receive(on: DispatchQueue.main).sink &#123;</span></span><br><span class="line">    <span class="comment">///         // Do something.</span></span><br><span class="line">    <span class="comment">///     &#125;</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">///  &gt; Note: ``Publisher/receive(on:options:)`` doesn’t affect the scheduler used to call the subscriber’s ``Subscriber/receive(subscription:)`` method.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameters:</span></span><br><span class="line">    <span class="comment">///   - scheduler: The scheduler the publisher uses for element delivery.</span></span><br><span class="line">    <span class="comment">///   - options: Scheduler options used to customize element delivery.</span></span><br><span class="line">    <span class="comment">/// - Returns: A publisher that delivers elements using the specified scheduler.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="func"><span class="keyword">func</span> <span class="title">receive</span><span class="generics">&lt;S&gt;</span><span class="params">(on scheduler: S, options: S.SchedulerOptions? = <span class="literal">nil</span>)</span></span> -&gt; <span class="type">Publishers</span>.<span class="type">ReceiveOn</span>&lt;<span class="type">Self</span>, <span class="type">S</span>&gt; <span class="keyword">where</span> <span class="type">S</span> : <span class="type">Scheduler</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2022/05/30/Combine-Introduction/" data-id="cl3zju8nv002o5mozz24hsr7b" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/combine/">combine</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/06/04/Combine-Publisher/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Combine: Publisher
        
      </div>
    </a>
  
  
    <a href="/2022/05/13/Swift-Source-Code-ContiguousArray/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Swift Source Code: ContiguousArray</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLite/">SQLite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unix/">Unix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/combine/">combine</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-archlinux/">linux, archlinux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phonegap/">phonegap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/programming/">programming</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swift-source-code/">swift source code</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编辑器配置文件/">编辑器配置文件</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读书/">读书</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 17.5px;">C</a> <a href="/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/tags/Unix/" style="font-size: 10px;">Unix</a> <a href="/tags/combine/" style="font-size: 12.5px;">combine</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/linux-archlinux/" style="font-size: 10px;">linux, archlinux</a> <a href="/tags/phonegap/" style="font-size: 10px;">phonegap</a> <a href="/tags/programming/" style="font-size: 10px;">programming</a> <a href="/tags/swift-source-code/" style="font-size: 15px;">swift source code</a> <a href="/tags/算法/" style="font-size: 10px;">算法</a> <a href="/tags/编辑器配置文件/" style="font-size: 10px;">编辑器配置文件</a> <a href="/tags/读书/" style="font-size: 10px;">读书</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">二月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">十月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">七月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">五月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">一月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">五月 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/06/04/Combine-Publisher/">Combine: Publisher</a>
          </li>
        
          <li>
            <a href="/2022/05/30/Combine-Introduction/">Combine: Introduction</a>
          </li>
        
          <li>
            <a href="/2022/05/13/Swift-Source-Code-ContiguousArray/">Swift Source Code: ContiguousArray</a>
          </li>
        
          <li>
            <a href="/2022/05/11/Swift-Source-Code-Collection/">Swift Source Code: Collection</a>
          </li>
        
          <li>
            <a href="/2022/05/04/Swift-Source-Code-Sequence/">Swift Source Code: Sequence</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Anyuan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">home</a>
  
    <a href="/archives" class="mobile-nav-link">archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>